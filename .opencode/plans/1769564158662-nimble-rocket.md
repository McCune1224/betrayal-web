# Plan: Create a root .gitignore for Betrayal Web Monorepo

## Overview
Create a single, comprehensive .gitignore at the monorepo root to cover all ignore patterns for Go (backend), SvelteKit/Bun (frontend), and automation subdirectories. Ensure no source, template/config-sample, or documentation files are accidentally ignored.

---

## Files and Folders to Ignore

### A. Global/Monorepo
- .env         # exclude all env files
- .env.*       # except sample/test below
- !.env.example
- !.env.test
- .DS_Store
- Thumbs.db
- *.log
- *.tmp
- *.bak
- *.sqlite
- *.swp
- /log/
- /tmp/
- .coverage
- coverage/
- .history
- .idea/
- .vscode/
- .npmrc      # (frontend/.npmrc is already excluded)

### B. Backend (Go)
- /backend/vendor/
- /ai-backend/vendor/
- /backend/internal/db/sqlc/
- /ai-backend/internal/db/sqlc/
- *.exe
- *.out
- *.test
- *.prof
- *.cover
- *.tmp
- .sqllsrc.json
- sqlc-dev.db

### C. Frontend (Node/npm/Bun)
- node_modules/
- frontend/node_modules/
- .output
- .svelte-kit
- .vercel
- .netlify
- .wrangler
- /build
- /dist
- .bun/
- frontend/.env
- frontend/.env.*
- !frontend/.env.example
- !frontend/.env.test
- bun.lock
- package-lock.json
- yarn.lock
- pnpm-lock.yaml

### D. Opencode (automation/config)
- .opencode/node_modules/
- .opencode/package.json
- .opencode/bun.lock

---

## Implementation Approach
- Merge all relevant patterns from existing .gitignore files in frontend and ai-backend, eliminating redundant rules
- Group entries by section, each with a category comment for clarity
- Ensure templates/samples/docs (e.g. .env.example, README.md, configs) are NOT ignored
- Do NOT ignore utility or configuration files needed by Railway, sqlc, project automation unless containing secrets

---

## Testing/Verification
- Run `git status` to check for tracked/untracked files before and after adding the .gitignore
- Confirm all build/generated/env/local/dev/secret/editor files are ignored
- Confirm essential source, config templates, and docs are not ignored
- Use `git clean -ndx` if needed to preview what will be ignored

---

## Deliverable
- A single, documented root .gitignore at /
- Structure with clear comment headings for each section

---

# Testify Setup for Backend (Go)

## Overview
Install and configure github.com/stretchr/testify for unit testing convenience (asserts, require, suite) in backend/. Also, add an example test file to demonstrate usage for contributors.

---

## Steps
1. Install testify:
    - Run: go get github.com/stretchr/testify in backend/
    - Run: go mod tidy for cleanup
2. (Optional best practice) Add backend/internal/example_test.go:
    - Provide example test showing use of assert (and/or require)
    - Comment code to show idiomatic testify use
3. Validate setup:
    - Run go test ./... in backend to ensure everything works
    - Confirm assert and require are both functional

---

## Critical Files/Paths
- /backend/go.mod (dependency add)
- /backend/go.sum (dependency add)
- /backend/internal/example_test.go (new example file, not prod)

